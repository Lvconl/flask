{% extends 'base.html' %}
{% block title %}{{ user.name }}-个人信息{% endblock %}
{% block beforehead %}
    <script>
    function change() {
        var btn_submit = document.getElementById("update");
        btn_submit.disabled = false;
    }
    </script>
{% endblock %}
{% block content %}
    <div style="background-color: white;border-radius: 10px;margin-top: 10px;">
    <div style="margin-left: 20px;">
        <form method="POST" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
            <div>
                <label>账号创建时间:&nbsp;&nbsp;&nbsp;{{ user.created_at }}</label>
            </div>
            <label>邮箱账号<label style="color: red;">(此账号为您注册账号，不可修改)</label>:</label>
            <div>
                {{ form.email(value = user.email,disabled = 'disabled') }}
            </div>
            <label>用户名:</label>
            <div>
                {{ form.name(value = user.name,onchange = "change()") }}
            </div>
            <label>个人头像:</label>
            <div>
                {% if user.image %}
                <img src="data:;base64,{{ base64.b64encode(user.image).decode('utf-8') }}" width="100" height="100"><p>
                {% else %}
                <img src="../static/img/boy.png" width="80" height="80">
                {% endif %}
                {{ form.image(onchange = "change()") }}
            </div>
            <div>
                <button type="submit" style="border-radius: 5px; border: none;background-color: #0f88eb;color: white;font-size: 16px;margin-top: 10px;margin-bottom: 10px;" disabled="disabled" id="update">确认修改</button>
                <a href="/" style="margin-left: 10px;font-size: 16px;">取消</a>
            </div>
        </form>
    </div>
    </div>
{% endblock %}